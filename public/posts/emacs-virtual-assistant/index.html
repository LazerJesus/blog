<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='The first AI trained to work along side you, in Emacs. The Emacs Virtual Assistant.'>
<title>EVA - The Ghost in my sh.el</title>

<link rel='canonical' href='https://finnfrotscher.com/posts/emacs-virtual-assistant/'>

<link rel="stylesheet" href="/scss/style.min.2b6ee5a7d81b7d7652244fbc6348380a437a1d55f2d003f36db707e965213b75.css"><meta property='og:title' content='EVA - The Ghost in my sh.el'>
<meta property='og:description' content='The first AI trained to work along side you, in Emacs. The Emacs Virtual Assistant.'>
<meta property='og:url' content='https://finnfrotscher.com/posts/emacs-virtual-assistant/'>
<meta property='og:site_name' content='Finn Luca Frotscher'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts' /><meta property='article:published_time' content='2022-07-13T00:00:00&#43;02:00'/><meta property='article:modified_time' content='2022-07-13T00:00:00&#43;02:00'/>
<meta name="twitter:title" content="EVA - The Ghost in my sh.el">
<meta name="twitter:description" content="The first AI trained to work along side you, in Emacs. The Emacs Virtual Assistant.">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/finnfrotscher_hu2287fabf70dbc89b788f757b85799f0f_249353_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Finn Luca Frotscher</a></h1>
            <h2 class="site-description">
	      Currently creating EVA, the Emacs virtual assistant. Former cofenster co-founder and CTO. <br><br>I have an idea what the future of education might look like.<br>Will #BuildInPublic
	    </h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/lazerjesus'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/finnfrotscher'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol>
<script>
  function validateEmail(email) {
      var re =
	  /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
      return re.test(email);
  }

  function submitForm(e) {
      e.preventDefault();
      var emailInput = document.getElementById("emailInput");
      var inputBaseStyle = "0px";
      emailInput.style.border = "2px solid lightgrey";

      var email = emailInput.value;
      if (!validateEmail(email)) {
	  alert("Invalid email address");
	  return false;
      }
      var data = { email };


      var url = "https://jqcgbzfcauvaabptdcvc.supabase.co/functions/v1/mailing-list-add-by-form-submit"

      var TOKEN =
	  "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpxY2diemZjYXV2YWFicHRkY3ZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTAxMDcwODgsImV4cCI6MjAwNTY4MzA4OH0.QbPYEDM74rPlxAEQ4OapKqYPvWTStZuGCzpX3g7gUT4"

      function changeColor(color = "darkseagreen") {
	  emailInput.style.border = "2px solid " + color;
	  setTimeout(function () {
	      emailInput.style.border = inputBaseStyle;
	  }, 3000);
      }

      fetch(url, {
	  method: "POST",
	  headers: {
	      Authorization: TOKEN,
	      "Content-Type": "application/json",
	  },
	  body: JSON.stringify(data),
      }).then(async (response) => {
	  console.log("result", response);
	  if (response.status == 200 || response.status == 201) {
	      changeColor("darkseagreen");
	  } else {
	      changeColor("lightcoral");
	  }

	  response.text().then((data) => {
	      console.log("Data", data);
	  })

      });
  }
</script>



<form id="emailForm" onsubmit="submitForm(event)"
      class="search-form widget">
    <p>
	<label>Join Mailing List</label>
	<input
	    name="keyword" 
	    type="text"
	    id="emailInput"
	    placeholder="Email"
	    required
	    />

	<button
	  type="submit"
	  title="Submit">
	  Join
	</button>
    </p>
</form>



<style>
.search-form label {
    inset-inline-start: 12px;
}
.search-form button {
    opacity: 0.8;
}
.search-form input {
    padding-left: 12px!important;
}
:root[data-scheme=dark] .search-form button {
    color: #fff;
    opacity: 0.4;
}

</style>


    <ol class="menu" id="main-menu">
        
        


        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Reader Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#intro-to-the-article">Intro to the Article</a>
      <ol>
        <li><a href="#tl-dr">TL;DR</a></li>
        <li><a href="#inhaltsverzeichnis"><!-- raw HTML omitted -->TODO<!-- raw HTML omitted --> Inhaltsverzeichnis</a></li>
      </ol>
    </li>
    <li><a href="#p-dot-s-dot-pre-scriptum">P.S. Pre Scriptum</a></li>
    <li><a href="#premise">Premise</a></li>
    <li><a href="#why-is-emacs-special-in-this-context">Why is Emacs special in this context?</a></li>
    <li><a href="#what-can-eva-do-in-two-years">What can EVA do in two years?</a></li>
    <li><a href="#architecture">Architecture</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/posts/emacs-virtual-assistant/">EVA - The Ghost in my sh.el</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            The first AI trained to work along side you, in Emacs. The Emacs Virtual Assistant.
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jul 13, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    6 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="intro-to-the-article">Intro to the Article</h2>
<p>We are in the middle of an once in a lifetime revolution. AI is here and more is coming. If you are anything like me, you&rsquo;re watching this revolution unfold from within your Emcas buffers and with the aid of copilot.el and the amazing gpt.el package, more and more of your workflows become aided by these models by the day.</p>
<p>But what if we can go further than calling 3rd party models from emacs. What if we could go <strong>A LOT</strong> further?</p>
<p>Introducing the Emacs virtual assistant, short EVA. The first model to be trained specifically to work inside Emacs.</p>
<p>This is a big deal. Why is this a big deal?
In this article, I&rsquo;ll argue that, even tho Emacs is ancient, it is uniquely well placed to benefit and <!-- raw HTML omitted -->be benefitted<!-- raw HTML omitted --> by LLMs. And I will attempt to articulate my vision for a deep integration of LLMs and Agents into the core of Emacs.</p>
<p>This is a long article, but in short it can be summarized as:</p>
<h3 id="tl-dr">TL;DR</h3>
<p>&gt; AI needs a body, Agents need a host, and Emacs can be that.</p>
<ul>
<li>LLMs operate on text and Emcas is text all the way down.</li>
<li>Agents need an environment to operate in and tools at their disposal. Emacs&rsquo;s REPL is a great environment (continuous runtime, functional, open) and there are tools for everything one might want to do with text and then some.</li>
<li>Emacs has a huge userbase that can provide training data, adopt and derive benefit from this AI.</li>
<li>Emacs is written in Lisp, the original language of AI. Which is not an argument for the premise, but kind of cool.</li>
<li>This is at an alpha stage, we need Data, a AI Model, and Application development to get this off the ground. Please help.</li>
</ul>
<h3 id="inhaltsverzeichnis"><!-- raw HTML omitted -->TODO<!-- raw HTML omitted --> Inhaltsverzeichnis</h3>
<p>i will start with some worldbuilding, loading current affairs into context.
i will now go into an example of how emacs works for the uninitiated and from there draw the line to the requirements any agent systems might have, and how those connect.
i will now go into an example of the taskexecution of an agent by example.
i will follow that up by extracting or abstracting the actual steps such an agent does to accomplish these goals.
then i will go highligh how all of these steps are already done inside emacs, in a way that is accessible to these agents.
i will continue by pointing out other aspects of symbiosis.
and end on some counterfactuals to disprove this idea, closing thoughts and a few post scriptums.</p>
<h2 id="p-dot-s-dot-pre-scriptum">P.S. Pre Scriptum</h2>
<p>First a sentence on nomenclature. Throughout this article I will refere to AI, AI systems, and Agents interchangeably. All refering to this tool I am proposing, that EVA is the first step off.</p>
<p>Secondly, I have an intent in writing this article. I want to have this tool, but I can build it all by myself. I want you to join me in creating it. There are multiple ways of contributing and I will go into them in the end. They are quite self explanatory once you&rsquo;ve read the article.</p>
<p>Thirdly, We want the agent to execute our intent and minimize friction in the process to derive maximum value.</p>
<h2 id="premise">Premise</h2>
<p>The world is changing. The age-old promise of AI is manifesting infront of our eyes.</p>
<p>As AI becomes more prevalent, it will handle an increasing amount of execution, while humans bring intent and judge design. So, a symbiotic relationship will form between humans and AI systems, with human intent driving agents execution, and itteration bridging the delta between state and goal. Reducing friction in this interaction will be critical.</p>
<p>This process of symbiotic cocreation needs to be facilitated in some environment.
This AI needs to be instructed and controlled through an interface and it needs to have access to tools and resources that it is familiar with trained on. To me, it doesn&rsquo;t feel entirely strange to say that it needs a body - something through which they can act on the world, communicate, reflect, think, plan and memorize.</p>
<p>This environment is the highest lever for reducing the aformentioned friction.</p>
<p>Microsoft will build out Visual Studio Code and Windows, &ldquo;Open&quot;AI has already launched their MVP with the plugins marketplace, and countless startups will join the race. But as highlighted in the leaked Google memo, open-source is the winning horse in this competition.</p>
<p>Emacs could, and in my opinion should, be adopted to be that environment, that body.
Why is that a good idea?</p>
<h2 id="why-is-emacs-special-in-this-context">Why is Emacs special in this context?</h2>
<p>Emacs is a great candidate to build an AI agent system into and on top of. Why do I believe that?
This comes back to environment and friction, and there are several reasons that point to emacs and LLMs being a match made in heaven.</p>
<p>Humans, LLMs and Emacs share text as their common denomenator which greatly reduces friction.</p>
<p>Emacs is an open and continuous environment that an Agent can write into, read from and mutate, while the human operator can trace and insert control at any step.</p>
<p>Any Job-to-be-done that involves text on a computer, emacs already has a package of functions that an agent can be trained on and a human can use through the emacs UI.</p>
<p>Emacs has proven itself to be a fertile ground for innovation, as it&rsquo;s been around for 70 years, due to it open core and timeless, flexible architecture.</p>
<p>And from the AIs perspective, Emacs is essentially a REPL with an operating system built in and it can be controlled entirely through functions in the form of text. That is very powerful paradigm for running and managing Agents.</p>
<hr>
<p>Emacs&rsquo; open runtime environment would enable AI agents to provide more effective assistance, itterating and streamlining workflows and making the user experience ever more personalized and optimized.
And the LLM immidiately has the entirety of emacs&rsquo; capabilities at its fingertipps, hijacking existing infrastructure and meeting us developers where we are.</p>
<p>This is all fairly abstract. Lets get into specifics.</p>
<h2 id="what-can-eva-do-in-two-years">What can EVA do in two years?</h2>
<p>an agent that combines the reasoning and planing abilities demonstrated by Graph of Thought, with the ability to access and navigate projects, an entire os, and the internet, and the ability to act and make changes to code.
so you have this tool you could tell to make add a new feature to a class and remove another, and then to make the rest of the codebase use the new feature and depracate the old, adjust test, git commit it once it works, and if the tests succeed, deploy it. and instead of you coding each step, you have an ongoing conversation with EVA who does all the execution, while you observe it and follow allong, halting it if it goes into a wrong direction and responding to question when the reasoning falls short.
you can collaborate on code, research, web browsing, emails, excel, whatever.</p>
<h2 id="architecture">Architecture</h2>
<p>application loop
basic architecture is simple. we have an LLM and a Emacs package. the pass a command from emacs to the model as a prompt. the model responds with Elisp code. the response gets run by the repl. thats the basic application loop.</p>
<p>training loop
data
we have data and it looks like this
on a low level
and a high level.</p>
<p>input model
i used this model now, but different model might become available.</p>
<p>training loop
check the notebook here.</p>
<p>new model
results in this new model here. some metadata, location, capabilities</p>

</section>


    <footer class="article-footer">
    

    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2023 Finn Luca Frotscher
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
